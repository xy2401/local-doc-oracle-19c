<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Tue Jan 08 12:12:17 EST 2019 -->
<title>Tracker (Oracle Spatial and Graph Java API Reference)</title>
<meta name="date" content="2019-01-08">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>

    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2019-01-08T18:35:46+00:00">
    <meta name="dcterms.title" content="Oracle Spatial and Graph Java API Reference">
    <meta name="dcterms.category" content="database">
    <meta name="dcterms.isVersionOf" content="SPAJV">
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
    <meta name="dcterms.identifier" content="E94803-01">
    <meta name="dcterms.release" content="Release 19">
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Tracker (Oracle Spatial and Graph Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle&reg; Spatial and Graph Java API Reference<br>Release 19.1, E94803-01</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html" target="_top">Frames</a></li>
<li><a href="Tracker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">oracle.spatial.objtrkr</div>
<h2 title="Class Tracker" class="title">Class Tracker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>oracle.spatial.objtrkr.Tracker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Tracker</span>
extends java.lang.Object</pre>
<div class="block">Provides an interface to a database location tracking set. Refer to Oracle's documentation for details of how a tracking
 set works.
 
 <h2>Typical usage:</h2>
 Set optional parameters using the available methods, and optionally create and start the
 tracking set on the server (if not already done). Once setup is finished, call the <a href="Tracker.html#begin--"><code>begin()</code></a> method.
 After begin() is called, you can set or delete tracking regions on the server, subscribe to notifications
 using <a href="Tracker.html#setNotification-long-long-oracle.spatial.objtrkr.Tracker.NotificationType-"><code>setNotification(long, long, NotificationType)</code></a>,
 and start sending locations and receiving and processing notifications.
 
 <p>
 To connect to an existing, running tracking set named "fleet" owned by user "john", and send a location update that
 objectId 21 is at (x1, y1) and object 27 is at (x2, y2):
 <pre>
 <code>
 Tracker tracker = new Tracker("john", "fleet", oracleDataSource).begin();
 tracker.location(21, x1, y1);
 tracker.location(27, x1, y1);
 tracker.sendLocations();
 </code>
 </pre>
 
 </p><p>
 To use "fleet" if it exists, or create and/or start it if necessary (with 3 tracking queues and 2 location queues),
 with the capability of setting callbacks on regions:
 <pre>
 <code>
 Tracker tracker = new Tracker("john", "fleet", oracleDataSource);
 tracker.setNumTrackingQueues(3);         // Value used only if fleet needs to be created
 tracker.setNumLocationQueues(2);         // Value used only if fleet needs to be created
 tracker.allowRegionCallbacks(true);
 tracker.startTrackingSet(true);          // Start if not already started; create if it doesn't already exist
 tracker.begin();
 </code>
 </pre>
 
 </p><p>
 After begin() is called, location messages can be sent to the server and notifications can be received and processed.
 
 </p><p>
 List of permissions that may be needed by the database user of the tracking set:
      connect, resource, aq_administrator_role, create job, manage scheduler, dbms_aq, dbms_aqadm, dbms_lock, dbms_aqin, dbms_aqjms
      
 </p><p>
 You can use the following SQL command to check the number of messages in the queues on the server:
 <br>
 <code>Select a.queue_table, b.* from dba_queues a, v$aq b where b.ready &gt; 0 and a.qid = b.qid;</code>
 
 </p><h2>Concurrency:</h2>
 Each Tracker object has a single session and must be single-threaded.
 Use the <a href="Tracker.html#newSession--"><code>newSession()</code></a> method to create duplicate Tracker objects with separate sessions; each such
 duplicate can be used by a different thread. You can create dedicated workers using the createWorkerThread call,
 which returns a new Thread with its own session.
 
 <p>
 The group of Trackers and workers created via newSession() and <a href="Tracker.html#createWorkerThread-oracle.spatial.objtrkr.Tracker.WorkerType-java.util.function.BooleanSupplier-"><code>createWorker()</code></a>
 share common location and notification queues with the original Tracker,
 and a common set of callbacks. Efficiency
 is generally improved by the ability to batch multiple messages to and from the database, and the ability of multiple
 threads to process incoming notifications.
 
 </p><p>
 If you instead use <b>new</b> to create multiple Trackers for the same database tracking set, then location messages
 from separate Trackers can not be batched together. Notifications fetched from 
 the database by one Tracker will not be available to other Trackers. Callbacks, if used, are set separately for
 each of the <b>new</b>'d Trackers, and so
 a notification will be processed according to whichever Tracker receives it. Subject to these limitations, multiple Tracker
 objects are supported, and are useful for  applications running on multiple computers creating location messages. 

 </p><p>
 Database processing is concurrent, and it is possible for location messages to be processed in a different order than what
 they were sent in. For similar reasons, location messages sent immediately after a setNotification() subscription may
 be processed before the setNotification() is completed on the server. While these variations occur for all notification
 types, the effects are most dramatic for TRANSITION notifications. A sequence of locations like "out1 out2 out3 in4 in5 in6"
 you would expect to generate two TRANSITION notifications "out1 in4", can instead (if the locations are sent very close together)
 generate potentially up to six notifications, "out1 in4 out2 in5 out3 in6".
 If order is important, you must resolve these using the timestamp field of the messages.

 </p><h2>Example code</h2>
 <pre>
 <code>
   static volatile boolean stopWork = false;
   static void example(OracleDataSource oracleDataSource) throws SQLException, JMSException, InterruptedException {
     
     // Connect to database and start a tracking set named "sample", creating it if necessary
     Tracker sample = new Tracker("sdobug", "sample", oracleDataSource)
           .stopDrop()                // For this example, delete &amp; re-create queues to make sure no old data from previous run
           .startTrackingSet(true)       // Create and start the tracking set
           .begin();                     // Must call begin before communicating with database
 
     Tracker.debugLevel(3);              // Request debugging information
     
     // Set up a tracking region with id 77
     JGeometry geom = new JGeometry(2003, SRID, new int[] {1,1003,1}, new double[] {11,2, 20,2, 20,14, 11,14, 11,2});
     sample.setTrackingRegion(77, geom);
     // Track whenever object 1 enters or leaves region 77
     sample.setNotification(1, 77, Tracker.NotificationType.TRANSITION);
     
     // Start a location worker to send locations and a notification worker to fetch notifications from server
     Thread workerL = sample.createWorkerThread(WorkerType.LOCATION_WORKER, () -&gt; stopWork);
     workerL.start();
     Thread workerN = sample.createWorkerThread(WorkerType.NOTIFICATION_WORKER, () -&gt; stopWork);
     workerN.start();
     
     // Setup processing for incoming notification
     sample.setCallback(msg -&gt; System.out.println("Object "+msg.getObjectId()
               +" ("+msg.getX()+", "+msg.getY()
               +") is "+msg.getState()+" region "+msg.getRegionId()));
     
     // Send a location
     sample.location(1,   1.10,  1.20, new Timestamp(69,  7, 20, 20, 39, 33, 0)); 
     sample.location(1,   2,     3,    new Timestamp(69,  7, 20, 59, 18,  0, 0));
     sample.location(1,  15,    10,    new Timestamp(69, 11, 19,  5, 32,  0, 0));
     // (sendLocations() call not needed because we have a LOCATION_WORKER running)
     
     // Expect to see two notifications, (1.10, 1.20) OUTSIDE and (15, 10) INSIDE
     
     // Wait 20 seconds, and then tell the workers to quit
     Thread.sleep(20000);
     
     stopWork = true;
     workerL.interrupt();
     workerL.join();
     workerN.interrupt();
     workerN.join();
 
     // Done, close the java object (but leave the database tracking set intact)
     sample.close();
 
   }
 </code>
 </pre>
 <p></p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>18.1</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;<a href="Tracker.Callback.html" title="type parameter in Tracker.Callback">T</a>&gt;</span></code>
<div class="block">Equivalent to consumer lambda, but allows SQLException and JMSException.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.NotificationType.html" title="enum in oracle.spatial.objtrkr">Tracker.NotificationType</a></span></code>
<div class="block">The type of notifications that can be subscribed to</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.WorkerType.html" title="enum in oracle.spatial.objtrkr">Tracker.WorkerType</a></span></code>
<div class="block">Types of worker threads that can be created</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="Tracker.html#Tracker-java.lang.String-java.lang.String-OracleDataSource-">Tracker</a></span>(java.lang.String&nbsp;owner,
       java.lang.String&nbsp;name,
       OracleDataSource&nbsp;ods)</code>
<div class="block">Create a Tracker for accessing the tracking set owner.name on the database.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#allowObjectCallbacks-boolean-">allowObjectCallbacks</a></span>(boolean&nbsp;allowed)</code>
<div class="block">Whether or not per-object callbacks will be used in this Tracker.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#allowRegionCallbacks-boolean-">allowRegionCallbacks</a></span>(boolean&nbsp;allowed)</code>
<div class="block">Whether or not per-region callbacks will be used in this Tracker.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#begin--">begin</a></span>()</code>
<div class="block">Marks the end of setup.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#close--">close</a></span>()</code>
<div class="block">Close the connection to the database and release the client resources and database connections.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#createTrackingSet--">createTrackingSet</a></span>()</code>
<div class="block">Create the tracker on the database.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#createWorkerThread-oracle.spatial.objtrkr.Tracker.WorkerType-java.util.function.BooleanSupplier-">createWorkerThread</a></span>(<a href="Tracker.WorkerType.html" title="enum in oracle.spatial.objtrkr">Tracker.WorkerType</a>&nbsp;workerType,
                  java.util.function.BooleanSupplier&nbsp;exitFlag)</code>
<div class="block">Create a new session of this tracker usable as a worker thread.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#debugLevel-int-">debugLevel</a></span>(int&nbsp;level)</code>
<div class="block">Set level of debug output (overriding any system value).</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#debugOutput-java.io.PrintStream-">debugOutput</a></span>(java.io.PrintStream&nbsp;ps)</code>
<div class="block">Copy debugging output to the given print stream, in addition to its normal output location.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#deleteObjectSubscription-long-java.lang.Long-">deleteObjectSubscription</a></span>(long&nbsp;objectId,
                        java.lang.Long&nbsp;regionId)</code>
<div class="block">Delete notifications for a tracked object.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#deleteTrackingRegion-long-boolean-">deleteTrackingRegion</a></span>(long&nbsp;regionId,
                    boolean&nbsp;deleteNotifications)</code>
<div class="block">Delete a tracking region.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#fetchNotifications-long-">fetchNotifications</a></span>(long&nbsp;waitMs)</code>
<div class="block">Fetch notification(s) from the database, waiting at most the specified time for the first one to arrive.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#finalize--">finalize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getName--">getName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>NotificationMsg</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getNotification--">getNotification</a></span>()</code>
<div class="block">Return one notification, blocking if there are no outstanding</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>NotificationMsg</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getNotification-long-">getNotification</a></span>(long&nbsp;waitMs)</code>
<div class="block">Return one notification, waiting up to the specified time if there are no outstanding.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getNotificationQueueSize--">getNotificationQueueSize</a></span>()</code>
<div class="block">The number of notifications without callbacks to store before discarding the oldest</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.List&lt;NotificationMsg&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getNotifications-long-">getNotifications</a></span>(long&nbsp;waitMs)</code>
<div class="block">Return all available notifications.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getNumLocationQueues--">getNumLocationQueues</a></span>()</code>
<div class="block">If a tracking set of this name appears on the server, then this will return the number of location queues it
 has.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getNumTrackingQueues--">getNumTrackingQueues</a></span>()</code>
<div class="block">If a tracking set of this name appears on the server, then this will return the number of tracking queues it
 has.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getOwner--">getOwner</a></span>()</code>
<div class="block">Return the database schema of this tracker.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#getStatistics--">getStatistics</a></span>()</code>
<div class="block">Return statistics.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#location-long-double-double-">location</a></span>(long&nbsp;objId,
        double&nbsp;x,
        double&nbsp;y)</code>
<div class="block">Same as calling
 <a href="Tracker.html#location-long-double-double-java.sql.Timestamp-"><code>location(objId, x, y, new Timestamp(System.currentTimeMillis())</code></a>.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#location-long-double-double-java.sql.Timestamp-">location</a></span>(long&nbsp;objId,
        double&nbsp;x,
        double&nbsp;y,
        java.sql.Timestamp&nbsp;timestamp)</code>
<div class="block">Queues a location message to be sent to the server.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#newSession--">newSession</a></span>()</code>
<div class="block">Create a duplicate of this tracker with its own session (each thread needs its own session).</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#sendLocations--">sendLocations</a></span>()</code>
<div class="block">Send any queued locations to the server.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setCallback-oracle.spatial.objtrkr.Tracker.Callback-">setCallback</a></span>(<a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;NotificationMsg&gt;&nbsp;callback)</code>
<div class="block">Set a callback for all notifications that are not otherwise covered by a region or object callback.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setNotification-long-long-oracle.spatial.objtrkr.Tracker.NotificationType-">setNotification</a></span>(long&nbsp;objId,
               long&nbsp;regionId,
               <a href="Tracker.NotificationType.html" title="enum in oracle.spatial.objtrkr">Tracker.NotificationType</a>&nbsp;type)</code>
<div class="block">Subscribe to notifications about a particular object/region pair</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setNotification-TrackerMsg-">setNotification</a></span>(TrackerMsg&nbsp;msg)</code>
<div class="block">Add a single subscription to the database</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setNotificationQueueSize-int-">setNotificationQueueSize</a></span>(int&nbsp;maxSize)</code>
<div class="block">The number of notifications without callbacks to store before discarding the oldest</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setNotifications-java.util.List-">setNotifications</a></span>(java.util.List&lt;TrackerMsg&gt;&nbsp;subscriptionList)</code>
<div class="block">Set multiple subscriptions on the server.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setNumLocationQueues-int-">setNumLocationQueues</a></span>(int&nbsp;numLocationQueues)</code>
<div class="block">Set the number of location queues we should use when creating a new tracking set on the database.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setNumTrackingQueues-int-">setNumTrackingQueues</a></span>(int&nbsp;numTrackingQueues)</code>
<div class="block">Set the number of tracking queues we should use when creating a new tracking set on the database.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setObjectCallback-long-oracle.spatial.objtrkr.Tracker.Callback-">setObjectCallback</a></span>(long&nbsp;objectId,
                 <a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;NotificationMsg&gt;&nbsp;callback)</code>
<div class="block">When a notification occurs for the given objectId, forward the notification
 to the specified callback method.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setRegionCallback-long-oracle.spatial.objtrkr.Tracker.Callback-">setRegionCallback</a></span>(long&nbsp;regionId,
                 <a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;NotificationMsg&gt;&nbsp;callback)</code>
<div class="block">When a notification occurs for the given regionId, forward the notification
 to the specified callback method.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#setTrackingRegion-long-oracle.spatial.geometry.JGeometry-">setTrackingRegion</a></span>(long&nbsp;regionId,
                 <a href="../geometry/JGeometry.html" title="class in oracle.spatial.geometry">JGeometry</a>&nbsp;geom)</code>
<div class="block">Set a tracking region on the server.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#startTrackingSet-boolean-">startTrackingSet</a></span>(boolean&nbsp;createIfNecessary)</code>
<div class="block">Connect to an existing tracking set on the database; optionally create if it doesn't already exist.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#stopDrop--">stopDrop</a></span>()</code>
<div class="block">Stop (if running) and drop the tracker on the database, cleaning up all database resources.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code><a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#stopTrackingSet--">stopTrackingSet</a></span>()</code>
<div class="block">Stop the tracker on the database.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Tracker.html#trackingsetExists--">trackingsetExists</a></span>()</code>
<div class="block">Indicates whether a tracking set of the given name has been created on the server, whether by us or from
 a previously existing tracker.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Tracker-java.lang.String-java.lang.String-OracleDataSource-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Tracker</h4>
<pre>public&nbsp;Tracker(java.lang.String&nbsp;owner,
               java.lang.String&nbsp;name,
               OracleDataSource&nbsp;ods)
        throws java.sql.SQLException,
               JMSException</pre>
<div class="block">Create a Tracker for accessing the tracking set owner.name on the database. After setting up options, call begin() to activate.
 
 <p>
 This object must only be used by a single thread. use <a href="Tracker.html#Tracker-oracle.spatial.objtrkr.Tracker-"><code>Tracker(Tracker)</code></a> to duplicate this for use in a separate thread.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>owner</code> - the owner (schema) of the queue</dd>
<dd><code>name</code> - the name of this tracker</dd>
<dd><code>ods</code> - Oracle data source</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - for problems communicating with the database</dd>
<dd><code>JMSException</code> - from database</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newSession--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSession</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;newSession()
                   throws JMSException,
                          java.sql.SQLException</pre>
<div class="block">Create a duplicate of this tracker with its own session (each thread needs its own session). All other data
 (including callback settings, location and notification queues) is shared. Note that callbacks may be processed
 by any thread or worker requesting notifications.
 
 <p>
 The alternative of creating a separate tracker with <code>new Tracker(...)</code> will result in separate queues and callbacks on the client side and
 may reduce efficiency.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new Duplicate tracker suitable for use in a separate thread</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - on database error</dd>
<dd><code>java.sql.SQLException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="createWorkerThread-oracle.spatial.objtrkr.Tracker.WorkerType-java.util.function.BooleanSupplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWorkerThread</h4>
<pre>public&nbsp;java.lang.Thread&nbsp;createWorkerThread(<a href="Tracker.WorkerType.html" title="enum in oracle.spatial.objtrkr">Tracker.WorkerType</a>&nbsp;workerType,
                                           java.util.function.BooleanSupplier&nbsp;exitFlag)
                                    throws JMSException,
                                           java.sql.SQLException</pre>
<div class="block">Create a new session of this tracker usable as a worker thread. All other data
 (including callback settings, location and notification queues) is shared. Note that callbacks may be processed
 by any thread requesting notifications.
 
 <p>Caller is responsible for calling Thread.start() on the returned object.
 
 </p><p>
 To terminate thread, arrange for exitFlag to return true and interrupt the thread.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workerType</code> - the type of worker to create</dd>
<dd><code>exitFlag</code> - worker will run until this lambda returns true (typically refers to a volatile boolean)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new Duplicate tracker suitable for use in a separate thread</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - on database error</dd>
<dd><code>java.sql.SQLException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="setNumLocationQueues-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNumLocationQueues</h4>
<pre>public&nbsp;void&nbsp;setNumLocationQueues(int&nbsp;numLocationQueues)</pre>
<div class="block">Set the number of location queues we should use when creating a new tracking set on the database.
 Does not affect an existing tracking set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numLocationQueues</code> - the number of queues to create</dd>
</dl>
</li>
</ul>
<a name="setNumTrackingQueues-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNumTrackingQueues</h4>
<pre>public&nbsp;void&nbsp;setNumTrackingQueues(int&nbsp;numTrackingQueues)</pre>
<div class="block">Set the number of tracking queues we should use when creating a new tracking set on the database.
 Does not affect an existing tracking set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numTrackingQueues</code> - the number of queues to create</dd>
</dl>
</li>
</ul>
<a name="allowRegionCallbacks-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowRegionCallbacks</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;allowRegionCallbacks(boolean&nbsp;allowed)</pre>
<div class="block">Whether or not per-region callbacks will be used in this Tracker. There is some minimal overhead</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowed</code> - set true to allow per-region callbacks to be set</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
</dl>
</li>
</ul>
<a name="setNotificationQueueSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotificationQueueSize</h4>
<pre>public&nbsp;void&nbsp;setNotificationQueueSize(int&nbsp;maxSize)</pre>
<div class="block">The number of notifications without callbacks to store before discarding the oldest</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxSize</code> - maximum number of unprocessed notifications to store; older ones will be dropped to make room for new.</dd>
</dl>
</li>
</ul>
<a name="allowObjectCallbacks-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowObjectCallbacks</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;allowObjectCallbacks(boolean&nbsp;allowed)</pre>
<div class="block">Whether or not per-object callbacks will be used in this Tracker. There is some minimal overhead.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowed</code> - true to allow per-object callbacks to be set</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
</dl>
</li>
</ul>
<a name="debugOutput-java.io.PrintStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>debugOutput</h4>
<pre>public static&nbsp;void&nbsp;debugOutput(java.io.PrintStream&nbsp;ps)</pre>
<div class="block">Copy debugging output to the given print stream, in addition to its normal output location. Logging level must also be set.
 This setting is global for all Tracker objects.
 
 <p>
 Example usage
 <pre>
 <code> 
 Tracker.debugOutput(Sysetm.err);
 Tracker.debugLevel(3);
 </code>
 </pre></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ps</code> - the print stream to log to</dd>
</dl>
</li>
</ul>
<a name="debugLevel-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>debugLevel</h4>
<pre>public static&nbsp;void&nbsp;debugLevel(int&nbsp;level)</pre>
<div class="block">Set level of debug output (overriding any system value). Recommend setting this before creating Tracker objects.
 This setting is global for all Tracker objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - Zero (most detailed) through 9 (fatal errors only). Three is a good starting point.</dd>
</dl>
</li>
</ul>
<a name="stopTrackingSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopTrackingSet</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;stopTrackingSet()
                        throws java.sql.SQLException</pre>
<div class="block">Stop the tracker on the database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="startTrackingSet-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTrackingSet</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;startTrackingSet(boolean&nbsp;createIfNecessary)
                         throws java.sql.SQLException,
                                JMSException</pre>
<div class="block">Connect to an existing tracking set on the database; optionally create if it doesn't already exist.
 Then start it on the database if not already started.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>createIfNecessary</code> - if true and tracking set doesn't exist on database, create one</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
<dd><code>JMSException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="begin--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>begin</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;begin()
              throws java.sql.SQLException,
                     JMSException</pre>
<div class="block">Marks the end of setup. After this call, can send locations, receive notifications, set tracking
 regions and subscribe to notifications, and create new sessions and workers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
<dd><code>JMSException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="stopDrop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopDrop</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;stopDrop()
                 throws java.sql.SQLException</pre>
<div class="block">Stop (if running) and drop the tracker on the database, cleaning up all database resources.
 Should not be followed by any operation other than close().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="createTrackingSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTrackingSet</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;createTrackingSet()
                          throws java.sql.SQLException</pre>
<div class="block">Create the tracker on the database. Does not issue a <a href="Tracker.html#startTrackingSet-boolean-"><code>startTrackingSet(boolean)</code></a>.
 It is an error if the tracker already exists.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="setTrackingRegion-long-oracle.spatial.geometry.JGeometry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTrackingRegion</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;setTrackingRegion(long&nbsp;regionId,
                                 <a href="../geometry/JGeometry.html" title="class in oracle.spatial.geometry">JGeometry</a>&nbsp;geom)
                          throws java.sql.SQLException,
                                 JMSException</pre>
<div class="block">Set a tracking region on the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regionId</code> - an integer identifying the region</dd>
<dd><code>geom</code> - the corresponding geometry (polygon or multipolygon)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - on database error</dd>
<dd><code>JMSException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="deleteTrackingRegion-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTrackingRegion</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;deleteTrackingRegion(long&nbsp;regionId,
                                    boolean&nbsp;deleteNotifications)
                             throws java.sql.SQLException,
                                    JMSException</pre>
<div class="block">Delete a tracking region.

 Tracker must be started before any region or location operations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regionId</code> - the ID of the region to remove</dd>
<dd><code>deleteNotifications</code> - if true, subscriptions matching the regionId are also deleted</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - on database error</dd>
<dd><code>JMSException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="deleteObjectSubscription-long-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteObjectSubscription</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;deleteObjectSubscription(long&nbsp;objectId,
                                        java.lang.Long&nbsp;regionId)
                                 throws java.sql.SQLException,
                                        JMSException</pre>
<div class="block">Delete notifications for a tracked object.

 Tracker must be started before any region or location operations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objectId</code> - the ID of the object to no longer track</dd>
<dd><code>regionId</code> - the ID of a particular region, or null for all regions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - on database error</dd>
<dd><code>JMSException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="location-long-double-double-java.sql.Timestamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>location</h4>
<pre>public&nbsp;void&nbsp;location(long&nbsp;objId,
                     double&nbsp;x,
                     double&nbsp;y,
                     java.sql.Timestamp&nbsp;timestamp)
              throws java.sql.SQLException,
                     JMSException</pre>
<div class="block">Queues a location message to be sent to the server. You must separately send the queued messages,
 either by calling sendLocations() from this Tracker or any of its duplicate sessions, or by creating a worker thread,
 <a href="Tracker.html#createWorkerThread-oracle.spatial.objtrkr.Tracker.WorkerType-java.util.function.BooleanSupplier-"><code>createWorkerThread(WorkerType.LOCATION_WORKER, flag).start()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objId</code> - the object's ID</dd>
<dd><code>x</code> - the x-value of the location</dd>
<dd><code>y</code> - the y-value of the location</dd>
<dd><code>timestamp</code> - the timestamp of this location message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database</dd>
<dd><code>JMSException</code> - from database</dd>
</dl>
</li>
</ul>
<a name="location-long-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>location</h4>
<pre>public&nbsp;void&nbsp;location(long&nbsp;objId,
                     double&nbsp;x,
                     double&nbsp;y)
              throws java.sql.SQLException,
                     JMSException</pre>
<div class="block">Same as calling
 <a href="Tracker.html#location-long-double-double-java.sql.Timestamp-"><code>location(objId, x, y, new Timestamp(System.currentTimeMillis())</code></a>.
 See description there.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objId</code> - the object's ID</dd>
<dd><code>x</code> - the x-value of the location</dd>
<dd><code>y</code> - the y-value of the location</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - from database</dd>
<dd><code>JMSException</code> - from database</dd>
</dl>
</li>
</ul>
<a name="sendLocations--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendLocations</h4>
<pre>public&nbsp;void&nbsp;sendLocations()
                   throws JMSException,
                          java.sql.SQLException</pre>
<div class="block">Send any queued locations to the server. Necessary if there is no LOCATION worker thread processing the queue.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - from database operation</dd>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="setNotification-long-long-oracle.spatial.objtrkr.Tracker.NotificationType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotification</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;setNotification(long&nbsp;objId,
                               long&nbsp;regionId,
                               <a href="Tracker.NotificationType.html" title="enum in oracle.spatial.objtrkr">Tracker.NotificationType</a>&nbsp;type)
                        throws java.sql.SQLException,
                               JMSException</pre>
<div class="block">Subscribe to notifications about a particular object/region pair</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objId</code> - an integer identifying the object to be notified about</dd>
<dd><code>regionId</code> - an integer identifying the region</dd>
<dd><code>type</code> - INSIDE/OUTSIDE/TRANSITION</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - on database error</dd>
<dd><code>JMSException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="setNotification-TrackerMsg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotification</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;setNotification(TrackerMsg&nbsp;msg)
                        throws java.sql.SQLException,
                               JMSException</pre>
<div class="block">Add a single subscription to the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - the subscription</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - on database error</dd>
<dd><code>JMSException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="setNotifications-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotifications</h4>
<pre>public&nbsp;<a href="Tracker.html" title="class in oracle.spatial.objtrkr">Tracker</a>&nbsp;setNotifications(java.util.List&lt;TrackerMsg&gt;&nbsp;subscriptionList)
                         throws java.sql.SQLException,
                                JMSException</pre>
<div class="block">Set multiple subscriptions on the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subscriptionList</code> - the list of subscriptions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this tracker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - on database error</dd>
<dd><code>JMSException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="setRegionCallback-long-oracle.spatial.objtrkr.Tracker.Callback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegionCallback</h4>
<pre>public&nbsp;void&nbsp;setRegionCallback(long&nbsp;regionId,
                              <a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;NotificationMsg&gt;&nbsp;callback)</pre>
<div class="block">When a notification occurs for the given regionId, forward the notification
 to the specified callback method.
 
 <p>You must also do <a href="Tracker.html#setNotification-long-long-oracle.spatial.objtrkr.Tracker.NotificationType-"><code>setNotification(objectId, regionId, NotificationType)</code></a>
 for every (object, region) combination you want the server to notify you of.

 </p><p>
 This method is thread-safe and may be called before or after begin (but after allowRegionCallbacks)</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>regionId</code> - the region we are interested in</dd>
<dd><code>callback</code> - the method to call when we have a notification for regionId, or null to delete any existing callback for regionId</dd>
</dl>
</li>
</ul>
<a name="setObjectCallback-long-oracle.spatial.objtrkr.Tracker.Callback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setObjectCallback</h4>
<pre>public&nbsp;void&nbsp;setObjectCallback(long&nbsp;objectId,
                              <a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;NotificationMsg&gt;&nbsp;callback)</pre>
<div class="block">When a notification occurs for the given objectId, forward the notification
 to the specified callback method.
 
 <p>You must also do <a href="Tracker.html#setNotification-long-long-oracle.spatial.objtrkr.Tracker.NotificationType-"><code>setNotification(objectId, regionId, NotificationType)</code></a>
 for every (region, object) combination you want the server to notify you of.
 
 </p><p>
 This method is thread-safe and may be called before or after begin (but after allowObjectCallbacks)</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objectId</code> - the object we are interested in</dd>
<dd><code>callback</code> - the method to call when we have a notification for objectId, or null to remove any existing callback for objectId</dd>
</dl>
</li>
</ul>
<a name="setCallback-oracle.spatial.objtrkr.Tracker.Callback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCallback</h4>
<pre>public&nbsp;void&nbsp;setCallback(<a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr">Tracker.Callback</a>&lt;NotificationMsg&gt;&nbsp;callback)</pre>
<div class="block">Set a callback for all notifications that are not otherwise covered by a region or object callback.
 
 <p>
 If this is set, no notifications will be returned by <a href="Tracker.html#getNotification--"><code>getNotification()</code></a> or <a href="Tracker.html#getNotifications-long-"><code>getNotifications(long)</code></a>. Those calls are still
 useful for pulling notifications from the server and processing them if you are not using a NOTIFICATION worker.
 
 </p><p>This method is thread-safe and may be called at any time.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - the callback to execute, or null to remove an existing callback</dd>
</dl>
</li>
</ul>
<a name="getNotifications-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotifications</h4>
<pre>public&nbsp;java.util.List&lt;NotificationMsg&gt;&nbsp;getNotifications(long&nbsp;waitMs)
                                                 throws JMSException,
                                                        java.sql.SQLException</pre>
<div class="block">Return all available notifications. If none are available, waits up to msWait for one to arrive. Arriving notifications
 are shared between duplicate sessions of this Tracker.
 
 <p>Arriving notifications that match callbacks will be processed via those callbacks during this call and not returned.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitMs</code> - number of milliseconds to wait if none currently available: -1 means no wait, zero means infinite wait</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of the received notifications (empty list if timed out waiting)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - propagated from database</dd>
<dd><code>JMSException</code> - propagated from database</dd>
</dl>
</li>
</ul>
<a name="getNotification-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotification</h4>
<pre>public&nbsp;NotificationMsg&nbsp;getNotification(long&nbsp;waitMs)
                                throws JMSException,
                                       java.sql.SQLException</pre>
<div class="block">Return one notification, waiting up to the specified time if there are no outstanding.
 
 <p>Arriving notifications that match callbacks will be processed via those callbacks during this call and not returned.
 If all notifications match a callback, then this method will process notifications until the specified timeout.
 If you are using callbacks, consider using fetchNotifications() instead.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitMs</code> - length of time to wait (-1 = don't wait, 0 = wait forever)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the notification, or null if none is available before the specified wait time</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - from database operation</dd>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="getNotification--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotification</h4>
<pre>public&nbsp;NotificationMsg&nbsp;getNotification()
                                throws JMSException,
                                       java.sql.SQLException</pre>
<div class="block">Return one notification, blocking if there are no outstanding
 
 <p>Arriving notifications that match callbacks will be processed via those callbacks during this call and not returned.
 If all notifications match a callback, then this method will process notifications forever.
 If you are using callbacks, consider using fetchNotifications() instead.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the notification</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - from database operation</dd>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="fetchNotifications-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNotifications</h4>
<pre>public&nbsp;int&nbsp;fetchNotifications(long&nbsp;waitMs)
                       throws JMSException,
                              java.sql.SQLException</pre>
<div class="block">Fetch notification(s) from the database, waiting at most the specified time for the first one to arrive.
 Callback processing is done; notifications without callbacks are
 queued for calls to getNotification() to return (either in this session or a different session).
 
 <p>
 fetchNotificaitons processes all notifications that have arrived (or arrive while
 it is processing) regardless of how long that takes, as long as the additional notifications are
 available without waiting.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitMs</code> - length of time to wait (-1 = don't wait, 0 = wait forever)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of messages fetched</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - from database operation</dd>
<dd><code>java.sql.SQLException</code> - from database operation</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws JMSException,
                  java.sql.SQLException</pre>
<div class="block">Close the connection to the database and release the client resources and database connections.
 The tracking set on the server is not stopped nor dropped.
 
 <p>No further method calls can be made to this object after close(). Close() must be called on each Tracker object,
 since each has its own connection to the database.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>JMSException</code> - on database error</dd>
<dd><code>java.sql.SQLException</code> - on database error</dd>
</dl>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>public&nbsp;void&nbsp;finalize()
              throws java.lang.Throwable</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>finalize</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Throwable</code></dd>
</dl>
</li>
</ul>
<a name="getStatistics--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatistics</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt;&nbsp;getStatistics()</pre>
<div class="block">Return statistics. Note that some statistics are not synchronized and may be inaccurate in a multi-threaded environment.
 
 <p>
 The values reported and the labels given may change without notice. These are intended as a human-readable debugging aid.
 <table>
 <caption>List of statistics collected</caption>
 <tr><td>maxQueuedLocations</td><td>The high-water mark of locations waiting transmission to server</td></tr>
 <tr><td>notificationQueue current size</td><td>Current number of notifications waiting for the user to read (excludes anything that matches a callback)</td></tr>
 <tr><td>notificationQueue maxQueueSizeSeen</td><td>High-water mark of the notification queue</td></tr>
 <tr><td>notificationQueue numBatchLargerThanSizeLimit</td><td>Number of times a single insertion with more than sizeLimit notifications was attempted</td></tr>
 <tr><td>notificationQueue numQueued</td><td>Number of notifications inserted into the queue</td></tr>
 <tr><td>notificationQueue numRemoved</td><td>Number of notifications retrieved by the user</td></tr>
 <tr><td>notificationQueue numSurplus</td><td>Number of notifications discarded due to reaching sizeLimit</td></tr>
 <tr><td>notificationQueue sizeLimit</td><td>Maximum number of notifications stored before discarding oldest</td></tr>
 <tr><td>numGeneralCallbacks (approx)</td><td>Number of notifications that went through the general callback instead of being queued</td></tr>
 <tr><td>numLocations</td><td>Number of location calls made</td></tr>
 <tr><td>numMaxBatches</td><td>Locations are batched to server, up to a maximum size; this is the number of maximum-sized batches sent</td></tr>
 <tr><td>numObjectCallbacks (approx)</td><td>Number of notifications that matched an objectId callback</td></tr>
 <tr><td>numObjectRegionCallbacks (approx)</td><td>Number of notifications that matched both an objectId and regionId callback</td></tr>
 <tr><td>numRegionCallbacks (approx)</td><td>Number of notifications that matched a regionId callback</td></tr>
 <tr><td>unsentLocations</td><td>Locations not yet sent to the server</td></tr>
 </table></p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a map of statistics.</dd>
</dl>
</li>
</ul>
<a name="getOwner--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOwner</h4>
<pre>public&nbsp;java.lang.String&nbsp;getOwner()</pre>
<div class="block">Return the database schema of this tracker.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the schema</dd>
</dl>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the tracking set</dd>
</dl>
</li>
</ul>
<a name="trackingsetExists--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trackingsetExists</h4>
<pre>public&nbsp;boolean&nbsp;trackingsetExists()</pre>
<div class="block">Indicates whether a tracking set of the given name has been created on the server, whether by us or from
 a previously existing tracker.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cached value indicating whether tracking set of this name existed on the server at last check</dd>
</dl>
</li>
</ul>
<a name="getNotificationQueueSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotificationQueueSize</h4>
<pre>public&nbsp;int&nbsp;getNotificationQueueSize()</pre>
<div class="block">The number of notifications without callbacks to store before discarding the oldest</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>max size of the incoming notification queue.</dd>
</dl>
</li>
</ul>
<a name="getNumLocationQueues--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumLocationQueues</h4>
<pre>public&nbsp;int&nbsp;getNumLocationQueues()</pre>
<div class="block">If a tracking set of this name appears on the server, then this will return the number of location queues it
 has. Otherwise, returns the number of location queues we would create.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>num of location queues, at least one.</dd>
</dl>
</li>
</ul>
<a name="getNumTrackingQueues--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNumTrackingQueues</h4>
<pre>public&nbsp;int&nbsp;getNumTrackingQueues()</pre>
<div class="block">If a tracking set of this name appears on the server, then this will return the number of tracking queues it
 has. Otherwise, returns the number of tracking queues we would create.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>num of tracking queues, at least one.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle&reg; Spatial and Graph Java API Reference<br>Release 19.1, E94803-01</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="Tracker.Callback.html" title="interface in oracle.spatial.objtrkr"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html" target="_top">Frames</a></li>
<li><a href="Tracker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &copy; 2007, 2019, Oracle and/or its affiliates. All Rights Reserved.</center></small></p>
</body>
</html>
