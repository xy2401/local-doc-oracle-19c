<!-- NewPage -->
<!DOCTYPE html>
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Mon Jan 07 08:54:49 PST 2019 -->
<title>Session</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2019-01-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<meta name="generator" content="Oracle ST-Doc Jadey 2.5">

    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2019-01-14T14:28:47+00:00">
    <meta name="dcterms.title" content="Oracle® Database XML Java API Reference">
    <meta name="dcterms.category" content="database">
    <meta name="dcterms.isVersionOf" content="JAXML">
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
    <meta name="dcterms.identifier" content="E96475-02">
    <meta name="dcterms.release" content="Release 19">
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>
<body>
<script type="text/javascript">
<!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Session";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script> <noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="topNav"><a name="navbar_top" id="navbar_top"><!--   --></a>
<div class="skipNav"><a href="#skip_navbar_top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_top_firstrow" id="navbar_top_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle® Database XML Java API Reference<br>
Release 19<em>c</em><br>
E96475-02<br></b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><b><a href="RepositoryException.html" title="class in javax.jcr"><span class="typeNameLink">Prev&nbsp;Class</span></a></b></li>
<li><b><a href="SimpleCredentials.html" title="class in javax.jcr"><span class="typeNameLink">Next&nbsp;Class</span></a></b></li>
</ul>
<ul class="navList">
<li><b><a href="../../index.html" target="_top">Frames</a></b></li>
<li><b><a href="Session.html" target="_top">No&nbsp;Frames</a></b></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><b><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></b></li>
</ul>
<div><b>
<script type="text/javascript">


<!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></b></div>
<div>
<ul class="subNavList">
<li><b>Summary:&nbsp;</b></li>
<li><b>Nested&nbsp;|&nbsp;</b></li>
<li><b>Field&nbsp;|&nbsp;</b></li>
<li><b>Constr&nbsp;|&nbsp;</b></li>
<li><b><a href="#method_summary">Method</a></b></li>
</ul>
<ul class="subNavList">
<li><b>Detail:&nbsp;</b></li>
<li><b>Field&nbsp;|&nbsp;</b></li>
<li><b>Constr&nbsp;|&nbsp;</b></li>
<li><b><a href="#method_detail">Method</a></b></li>
</ul>
</div>
<b><a name="skip_navbar_top" id="skip_navbar_top"><!--   --></a></b></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><b>javax.jcr</b></div>
<h2 title="Interface Session" class="title"><b>Interface Session</b></h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><b>All Known Subinterfaces:</b></dt>
<dd><b><a href="../../oracle/jcr/OracleSession.html" title="interface in oracle.jcr">OracleSession</a></b></dd>
</dl>
<hr>
<b><br></b>
<pre><b>public interface <span class="typeNameLabel">Session</span></b></pre>
<div class="block"><b>The <code>Session</code> object provides read and (in level 2) write access to the content of a particular workspace in the repository.</b>
<p><b>The <code>Session</code> object is returned by <a href="Repository.html#login_javax_jcr_Credentials_java_lang_String_"><code>Repository.login(javax.jcr.Credentials, java.lang.String)</code></a>. It encapsulates both the authorization settings of a particular user (as specified by the passed <code>Credentials</code>)and a binding to the workspace specified by the <code>workspaceName</code> passed on <code>login</code>.</b></p>
<p><b>Each <code>Session</code> object is associated one-to-one with a <code>Workspace</code> object. The <code>Workspace</code> object represents a "view" of an actual repository workspace entity as seen through the authorization settings of its associated <code>Session</code>.</b></p>
</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList"><b><!-- ========== METHOD SUMMARY =========== --></b>
<ul class="blockList">
<li class="blockList"><b><a name="method_summary" id="method_summary"><!--   --></a></b>
<h3><b>Method Summary</b></h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#addLockToken_java_lang_String_">addLockToken</a></span>(java.lang.String&nbsp;lt)</code>
<div class="block">Adds the specified lock token to this session.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#checkPermission_java_lang_String_java_lang_String_">checkPermission</a></span>(java.lang.String&nbsp;absPath, java.lang.String&nbsp;actions)</code>
<div class="block">Determines whether this <code>Session</code> has permission to perform the specified actions at the specified <code>absPath</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#exportDocumentView_java_lang_String_org_xml_sax_ContentHandler_boolean_boolean_">exportDocumentView</a></span>(java.lang.String&nbsp;absPath, <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a>&nbsp;contentHandler, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#exportDocumentView_java_lang_String_java_io_OutputStream_boolean_boolean_">exportDocumentView</a></span>(java.lang.String&nbsp;absPath, java.io.OutputStream&nbsp;out, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#exportSystemView_java_lang_String_org_xml_sax_ContentHandler_boolean_boolean_">exportSystemView</a></span>(java.lang.String&nbsp;absPath, <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a>&nbsp;contentHandler, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#exportSystemView_java_lang_String_java_io_OutputStream_boolean_boolean_">exportSystemView</a></span>(java.lang.String&nbsp;absPath, java.io.OutputStream&nbsp;out, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getAttribute_java_lang_String_">getAttribute</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Returns the value of the named attribute as an <code>Object</code>, or <code>null</code> if no attribute of the given name exists.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getAttributeNames__">getAttributeNames</a></span>()</code>
<div class="block">Returns the names of the attributes set in this session as a result of the <code>Credentials</code> that were used to acquire it.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getImportContentHandler_java_lang_String_int_">getImportContentHandler</a></span>(java.lang.String&nbsp;parentAbsPath, int&nbsp;uuidBehavior)</code>
<div class="block">Returns an <code>org.xml.sax.ContentHandler</code> which can be used to push SAX events into the repository.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="Item.html" title="interface in javax.jcr">Item</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getItem_java_lang_String_">getItem</a></span>(java.lang.String&nbsp;absPath)</code>
<div class="block">Returns the item at the specified absolute path in the workspace.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getLockTokens__">getLockTokens</a></span>()</code>
<div class="block">Returns an array containing all lock tokens currently held by this session.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getNamespacePrefix_java_lang_String_">getNamespacePrefix</a></span>(java.lang.String&nbsp;uri)</code>
<div class="block">Returns the prefix to which the given URI is mapped</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getNamespacePrefixes__">getNamespacePrefixes</a></span>()</code>
<div class="block">Returns all prefixes currently set for this session.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getNamespaceURI_java_lang_String_">getNamespaceURI</a></span>(java.lang.String&nbsp;prefix)</code>
<div class="block">For a given prefix, returns the URI to which it is mapped as currently set in this <code>Session</code>.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="Node.html" title="interface in javax.jcr">Node</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getNodeByUUID_java_lang_String_">getNodeByUUID</a></span>(java.lang.String&nbsp;uuid)</code>
<div class="block">Returns the node specifed by the given UUID.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="Repository.html" title="interface in javax.jcr">Repository</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getRepository__">getRepository</a></span>()</code>
<div class="block">Returns the <code>Repository</code> object through which this session was acquired.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="Node.html" title="interface in javax.jcr">Node</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getRootNode__">getRootNode</a></span>()</code>
<div class="block">Returns the root node of the workspace.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getUserID__">getUserID</a></span>()</code>
<div class="block">Gets the user ID that was used to acquire this session.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="ValueFactory.html" title="interface in javax.jcr">ValueFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getValueFactory__">getValueFactory</a></span>()</code>
<div class="block">This method returns a <code>ValueFactory</code> that is used to create <code>Value</code> objects for use when setting repository properties.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="Workspace.html" title="interface in javax.jcr">Workspace</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#getWorkspace__">getWorkspace</a></span>()</code>
<div class="block">Returns the <code>Workspace</code> attached to this <code>Session</code>.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#hasPendingChanges__">hasPendingChanges</a></span>()</code>
<div class="block">Returns <code>true</code> if this session holds pending (that is, unsaved) changes; otherwise returns <code>false</code>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="Session.html" title="interface in javax.jcr">Session</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#impersonate_javax_jcr_Credentials_">impersonate</a></span>(<a href="Credentials.html" title="interface in javax.jcr">Credentials</a>&nbsp;credentials)</code>
<div class="block">Returns a new session in accordance with the specified (new) Credentials.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#importXML_java_lang_String_java_io_InputStream_int_">importXML</a></span>(java.lang.String&nbsp;parentAbsPath, java.io.InputStream&nbsp;in, int&nbsp;uuidBehavior)</code>
<div class="block">Deserializes an XML document and adds the resulting item subtree as a child of the node at parentAbsPath.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#isLive__">isLive</a></span>()</code>
<div class="block">Returns <code>true</code> if this <code>Session</code> object is usable by the client.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#itemExists_java_lang_String_">itemExists</a></span>(java.lang.String&nbsp;absPath)</code>
<div class="block">Returns <code>true</code> if an item exists at <code>absPath</code>; otherwise returns <code>false</code>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#logout__">logout</a></span>()</code>
<div class="block">Releases all resources associated with this <code>Session</code>.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#move_java_lang_String_java_lang_String_">move</a></span>(java.lang.String&nbsp;srcAbsPath, java.lang.String&nbsp;destAbsPath)</code>
<div class="block">Moves the node at <code>srcAbsPath</code> (and its entire subtree) to the new location at <code>destAbsPath</code>.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#refresh_boolean_">refresh</a></span>(boolean&nbsp;keepChanges)</code>
<div class="block">If <code>keepChanges</code> is <code>false</code>, this method discards all pending changes currently recorded in this <code>Session</code> and returns all items to reflect the current saved state.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#removeLockToken_java_lang_String_">removeLockToken</a></span>(java.lang.String&nbsp;lt)</code>
<div class="block">Removes the specified lock token from this session.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#save__">save</a></span>()</code>
<div class="block">Validates all pending changes currently recorded in this <code>Session</code>.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Session.html#setNamespacePrefix_java_lang_String_java_lang_String_">setNamespacePrefix</a></span>(java.lang.String&nbsp;prefix, java.lang.String&nbsp;uri)</code>
<div class="block">Within the scope of this session, rename a persistently registered namespace URI to the new prefix.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList"><!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail" id="method_detail"><!--   --></a>
<h3>Method Detail</h3>
<a name="getRepository__" id="getRepository__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getRepository</h4>
<pre><a href="Repository.html" title="interface in javax.jcr">Repository</a> getRepository()</pre>
<div class="block">Returns the <code>Repository</code> object through which this session was acquired.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code><a href="Repository.html" title="interface in javax.jcr"><code>Repository</code></a></code> object.</dd>
</dl>
</li>
</ul>
<a name="getUserID__" id="getUserID__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getUserID</h4>
<pre>java.lang.String getUserID()</pre>
<div class="block">Gets the user ID that was used to acquire this session. This method is free to return an "anonymous user id" or <code>null</code> if the <code>Credentials</code> used to acquire this session happens not to have provided a real user ID (for example, if instead of <code>SimpleCredentials</code> some other implementation of <code>Credentials</code> was used).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the user id from the credentials used to acquire this session.</dd>
</dl>
</li>
</ul>
<a name="getAttribute_java_lang_String_" id="getAttribute_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getAttribute</h4>
<pre>java.lang.Object getAttribute(java.lang.String name)</pre>
<div class="block">Returns the value of the named attribute as an <code>Object</code>, or <code>null</code> if no attribute of the given name exists. See <a href="Session.html#getAttributeNames__"><code>getAttributeNames()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of an attribute passed in the credentials used to acquire this session.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of the attribute.</dd>
</dl>
</li>
</ul>
<a name="getAttributeNames__" id="getAttributeNames__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getAttributeNames</h4>
<pre>java.lang.String[] getAttributeNames()</pre>
<div class="block">Returns the names of the attributes set in this session as a result of the <code>Credentials</code> that were used to acquire it. Not all <code>Credentials</code> implementations will contain attributes (though, for example, <code>SimpleCredentials</code> does allow for them). This method returns an empty array if the <code>Credentials</code> instance used to acquire this <code>Session</code> did not provide attributes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string array containing the names of all attributes passed in the credentials used to acquire this session.</dd>
</dl>
</li>
</ul>
<a name="getWorkspace__" id="getWorkspace__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkspace</h4>
<pre><a href="Workspace.html" title="interface in javax.jcr">Workspace</a> getWorkspace()</pre>
<div class="block">Returns the <code>Workspace</code> attached to this <code>Session</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code><a href="Workspace.html" title="interface in javax.jcr"><code>Workspace</code></a></code> object.</dd>
</dl>
</li>
</ul>
<a name="impersonate_javax_jcr_Credentials_" id="impersonate_javax_jcr_Credentials_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>impersonate</h4>
<pre><a href="Session.html" title="interface in javax.jcr">Session</a> impersonate(<a href="Credentials.html" title="interface in javax.jcr">Credentials</a> credentials)
             throws <a href="LoginException.html" title="class in javax.jcr">LoginException</a>,
                    <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns a new session in accordance with the specified (new) Credentials. Allows the current user to "impersonate" another using incomplete credentials (perhaps including a user name but no password, for example), assuming that their original session gives them that permission.
<p>The new <code>Session</code> is tied to a new <code>Workspace</code> instance. In other words, <code>Workspace</code> instances are not re-used. However, the <code>Workspace</code> instance returned represents the same actual persistent workspace entity in the repository as is represented by the <code>Workspace</code> object tied to this <code>Session</code>.</p>
<p>Throws a <code>LoginException</code> if the current session does not have sufficient rights.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>credentials</code> - A <code>Credentials</code> object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Session</code> object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="LoginException.html" title="class in javax.jcr">LoginException</a></code> - if the current session does not have sufficient rights.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="getRootNode__" id="getRootNode__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getRootNode</h4>
<pre><a href="Node.html" title="interface in javax.jcr">Node</a> getRootNode()
          throws <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns the root node of the workspace. The root node, "/", is the main access point to the content of the workspace.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The root node of the workspace: a <code>Node</code> object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs.</dd>
</dl>
</li>
</ul>
<a name="getNodeByUUID_java_lang_String_" id="getNodeByUUID_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeByUUID</h4>
<pre><a href="Node.html" title="interface in javax.jcr">Node</a> getNodeByUUID(java.lang.String uuid)
            throws <a href="ItemNotFoundException.html" title="class in javax.jcr">ItemNotFoundException</a>,
                   <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns the node specifed by the given UUID. Only applies to nodes that expose a UUID, in other words, those of mixin node type <code>mix:referenceable</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>uuid</code> - A universally unique identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>Node</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ItemNotFoundException.html" title="class in javax.jcr">ItemNotFoundException</a></code> - if the specified UUID is not found.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="getItem_java_lang_String_" id="getItem_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getItem</h4>
<pre><a href="Item.html" title="interface in javax.jcr">Item</a> getItem(java.lang.String absPath)
      throws <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
             <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns the item at the specified absolute path in the workspace.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>absPath</code> - An absolute path.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An <code>Item</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if the specified path cannot be found.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="itemExists_java_lang_String_" id="itemExists_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>itemExists</h4>
<pre>boolean itemExists(java.lang.String absPath)
            throws <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns <code>true</code> if an item exists at <code>absPath</code>; otherwise returns <code>false</code>. Also returns <code>false</code> if the specified <code>absPath</code> is malformed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>absPath</code> - an absolute path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if an item exists at <code>absPath</code>; otherwise returns <code>false</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs.</dd>
</dl>
</li>
</ul>
<a name="move_java_lang_String_java_lang_String_" id="move_java_lang_String_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>move</h4>
<pre>void move(java.lang.String srcAbsPath,
          java.lang.String destAbsPath)
   throws <a href="ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a>,
          <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
          <a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
          <a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
          <a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
          <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Moves the node at <code>srcAbsPath</code> (and its entire subtree) to the new location at <code>destAbsPath</code>.
<p>In order to persist the change, a <code>save</code> must be called on the parents of both the source and destination locations.</p>
<p>A <code>ConstraintViolationException</code> is thrown either immediately or on <code>save</code> if performing this operation would violate a node type or implementation-specific constraint. Implementations may differ on when this validation is performed.</p>
<p>As well, a <code>ConstraintViolationException</code> will be thrown on <code>save</code> if an attempt is made to seperately <code>save</code> either the source or destination node.</p>
<p>Note that this behaviour differs from that of <a href="Workspace.html#move_java_lang_String_java_lang_String_"><code>Workspace.move(java.lang.String, java.lang.String)</code></a>, which operates directly in the persistent workspace and does not require a <code>save</code>.</p>
<p>The <code>destAbsPath</code> provided must not have an index on its final element. If it does then a <code>RepositoryException</code> is thrown. Strictly speaking, the <code>destAbsPath</code> parameter is actually an <i>absolute path</i> to the parent node of the new location, appended with the new <i>name</i> desired for the moved node. It does not specify a position within the child node ordering (if such ordering is supported). If ordering is supported by the node type of the parent node of the new location, then the newly moved node is appended to the end of the child node list.</p>
<p>This method cannot be used to move just an individual property by itself. It moves an entire node and its subtree (including, of course, any properties contained therein).</p>
<p>If no node exists at <code>srcAbsPath</code> or no node exists one level above <code>destAbsPath</code> (in other words, there is no node that will serve as the parent of the moved item) then a <code>PathNotFoundException</code> is thrown either immediately or on <code>save</code>. Implementations may differ on when this validation is performed.</p>
<p>An <code>ItemExistsException</code> is thrown either immediately or on <code>save</code> if a property already exists at <code>destAbsPath</code> or a node already exists there and same-name siblings are not allowed. Implementations may differ on when this validation is performed.</p>
<p>A <code>VersionException</code> is thrown either immediately or on <code>save</code> if the parent node of <code>destAbsPath</code> or the parent node of <code>srcAbsPath] is versionable and checked-in, or is non-versionable and its nearest versionable ancestor is checked-in. Implementations may differ on when this validation is performed.</code></p>
<p><code>A <code>LockException</code> is thrown either immediately or on <code>save</code> if a lock prevents the <code>move</code>. Implementations may differ on when this validation is performed.</code></p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcAbsPath</code> - the root of the subtree to be moved.</dd>
<dd><code>destAbsPath</code> - the location to which the subtree is to be moved.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a></code> - if a property already exists at <code>destAbsPath</code> or a node already exist there, and same name siblings are not allowed and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if either <code>srcAbsPath</code> or <code>destAbsPath</code> cannot be found and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the parent node of <code>destAbsPath</code> or the parent node of <code>srcAbsPath</code> is versionable and checked-in, or or is non-verionable and its nearest versionable ancestor is checked-in and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if a node-type or other constraint violation is detected immediately and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if the move operation would violate a lock and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if the last element of <code>destAbsPath</code> has an index or if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="save__" id="save__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>void save()
   throws <a href="AccessDeniedException.html" title="class in javax.jcr">AccessDeniedException</a>,
          <a href="ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a>,
          <a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
          <a href="InvalidItemStateException.html" title="class in javax.jcr">InvalidItemStateException</a>,
          <a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
          <a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
          <a href="nodetype/NoSuchNodeTypeException.html" title="class in javax.jcr.nodetype">NoSuchNodeTypeException</a>,
          <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Validates all pending changes currently recorded in this <code>Session</code>. If validation of all pending changes succeeds, then this change information is cleared from the <code>Session</code>. If the <code>save</code> occurs outside a transaction, the changes are persisted and thus made visible to other <code>Sessions</code>. If the <code>save</code> occurs within a transaction, the changes are not persisted until the transaction is committed.
<p>If validation fails, then no pending changes are saved and they remain recorded on the <code>Session</code>. There is no best-effort or partial save.</p>
<p>When an item is saved the item in persistent storage to which pending changes are written is determined as follows:</p>
<ul>
<li>If the transient item has a UUID, then the changes are written to the persistent item with the same UUID.</li>
<li>If the transient item does not have a UUID then its nearest ancestor with a UUID, or the root node (whichever occurs first) is found, and the relative path from the node in persistent node with that UUID is used to determine the item in persistent storage to which the changes are to be written.</li>
</ul>
As a result of these rules, a <code>save</code> of an item that has a UUID will succeed even if that item has, in the meantime, been moved in persistent storage to a new location (that is, its path has changed). However, a <code>save</code> of a non-UUID item will fail (throwing an <code>InvalidItemStateException</code>) if it has, in the meantime, been moved in persistent storage to a new location. A <code>save</code> of a non-UUID item will also fail if it has, in addition to being moved, been replaced in its original position by a UUID-bearing item.
<p>Note that <code>save</code> uses the same rules to match items between transient storage and persistent storage as <a href="Node.html#update_java_lang_String_"><code>Node.update(java.lang.String)</code></a> does to match nodes between two workspaces.</p>
<p>An <code>AccessDeniedException</code> will be thrown if any of the changes to be persisted would violate the access privileges of this <code>Session</code>.</p>
<p>If any of the changes to be persisted would cause the removal of a node that is currently the target of a <code>REFERENCE</code> property then a <code>ReferentialIntegrityException</code> is thrown, provided that this <code>Session</code> has read access to that <code>REFERENCE</code> property. If, on the other hand, this <code>Session</code> does not have read access to the <code>REFERENCE</code> property in question, then an <code>AccessDeniedException</code> is thrown instead.</p>
<p>An <code>ItemExistsException</code> will be thrown if any of the changes to be persisted would be prevented by the presence of an already existing item in the workspace.</p>
<p>A <code>ConstraintViolationException</code> will be thrown if any of the changes to be persisted would violate a node type restriction. Additionally, a repository may use this exception to enforce implementation- or configuration-dependant restrictions.</p>
<p>A <code>LockException</code> is thrown if any of the changes to be persisted would violate a lock.</p>
<p>An <code>InvalidItemStateException</code> is thrown if any of the changes to be persisted conflicts with a change already persisted through another session and the implementation is such that this conflict can only be detected at save-time and therefore was not detected earlier, at change-time.</p>
<p>A <code>VersionException</code> is thrown if the <code>save</code> would make a result in a change to persistent storage that would violate the read-only status of a checked-in node.</p>
<p>A <code>LockException</code> is thrown if the <code>save</code> would result in a change to persistent storage that would violate a lock.</p>
<p>A <code>NoSuchNodeTypeException</code> is thrown if the <code>save</code> would result in the addition of a node with an unrecognized node type.</p>
<p>A <code>RepositoryException</code> will be thrown if another error occurs.</p>
</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="AccessDeniedException.html" title="class in javax.jcr">AccessDeniedException</a></code> - if any of the changes to be persisted would violate the access privileges of the this <code>Session</code>. Also thrown if any of the changes to be persisted would cause the removal of a node that is currently referenced by a <code>REFERENCE</code> property that this Session <i>does not</i> have read access to.</dd>
<dd><code><a href="ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a></code> - if any of the changes to be persisted would be prevented by the presence of an already existing item in the workspace.</dd>
<dd><code><a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if any of the changes to be persisted would violate a lock.</dd>
<dd><code><a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if any of the changes to be persisted would violate a node type or restriction. Additionally, a repository may use this exception to enforce implementation- or configuration-dependent restrictions.</dd>
<dd><code><a href="InvalidItemStateException.html" title="class in javax.jcr">InvalidItemStateException</a></code> - if any of the changes to be persisted conflicts with a change already persisted through another session and the implementation is such that this conflict can only be detected at save-time and therefore was not detected earlier, at change-time.</dd>
<dd><code><a href="ReferentialIntegrityException.html" title="class in javax.jcr">ReferentialIntegrityException</a></code> - if any of the changes to be persisted would cause the removal of a node that is currently referenced by a <code>REFERENCE</code> property that this <code>Session</code> has read access to.</dd>
<dd><code><a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the <code>save</code> would make a result in a change to persistent storage that would violate the read-only status of a checked-in node.</dd>
<dd><code><a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if the <code>save</code> would result in a change to persistent storage that would violate a lock.</dd>
<dd><code><a href="nodetype/NoSuchNodeTypeException.html" title="class in javax.jcr.nodetype">NoSuchNodeTypeException</a></code> - if the <code>save</code> would result in the addition of a node with an unrecognized node type.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="refresh_boolean_" id="refresh_boolean_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>void refresh(boolean keepChanges)
      throws <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">If <code>keepChanges</code> is <code>false</code>, this method discards all pending changes currently recorded in this <code>Session</code> and returns all items to reflect the current saved state. Outside a transaction this state is simply the current state of persistent storage. Within a transaction, this state will reflect persistent storage as modified by changes that have been saved but not yet committed.
<p>If <code>keepChanges</code> is true then pending change are not discarded but items that do not have changes pending have their state refreshed to reflect the current saved state, thus revealing changes made by other sessions.</p>
</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs.</dd>
</dl>
</li>
</ul>
<a name="hasPendingChanges__" id="hasPendingChanges__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>hasPendingChanges</h4>
<pre>boolean hasPendingChanges()
                   throws <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns <code>true</code> if this session holds pending (that is, unsaved) changes; otherwise returns <code>false</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a name="getValueFactory__" id="getValueFactory__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getValueFactory</h4>
<pre><a href="ValueFactory.html" title="interface in javax.jcr">ValueFactory</a> getValueFactory()
                      throws <a href="UnsupportedRepositoryOperationException.html" title="class in javax.jcr">UnsupportedRepositoryOperationException</a>,
                             <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">This method returns a <code>ValueFactory</code> that is used to create <code>Value</code> objects for use when setting repository properties.
<p>If writing to the repository is not supported (because this is a level 1-only implementation, for example) an <code>UnsupportedRepositoryOperationException</code> will be thrown.</p>
</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>ValueFactory</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="UnsupportedRepositoryOperationException.html" title="class in javax.jcr">UnsupportedRepositoryOperationException</a></code> - if writing to the repository is not supported.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="checkPermission_java_lang_String_java_lang_String_" id="checkPermission_java_lang_String_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>checkPermission</h4>
<pre>void checkPermission(java.lang.String absPath,
                     java.lang.String actions)
              throws java.security.AccessControlException,
                     <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Determines whether this <code>Session</code> has permission to perform the specified actions at the specified <code>absPath</code>. This method quietly returns if the access request is permitted, or throws a suitable <code>java.security.AccessControlException</code> otherwise.
<p>The <code>actions</code> parameter is a comma separated list of action strings. The following action strings are defined:</p>
<ul>
<li><code>add_node</code>: If <code>checkPermission(path, "add_node")</code> returns quietly, then this <code>Session</code> has permission to add a node at <code>path</code>, otherwise permission is denied.</li>
<li><code>set_property</code>: If <code>checkPermission(path, "set_property")</code> returns quietly, then this <code>Session</code> has permission to set (add or change) a property at <code>path</code>, otherwise permission is denied.</li>
<li><code>remove</code>: If <code>checkPermission(path, "remove")</code> returns quietly, then this <code>Session</code> has permission to remove an item at <code>path</code>, otherwise permission is denied.</li>
<li><code>read</code>: If <code>checkPermission(path, "read")</code> returns quietly, then this <code>Session</code> has permission to retrieve (and read the value of, in the case of a property) an item at <code>path</code>, otherwise permission is denied.</li>
</ul>
When more than one action is specified in the <code>actions</code> parameter, this method will only return quietly if this <code>Session</code> has permission to perform <i>all</i> of the listed actions at the specified path.
<p>The information returned through this method will only reflect access control policies and not other restrictions that may exist. For example, even though <code>checkPermission</code> may indicate that a particular <code>Session</code> may add a property at <code>/A/B/C</code>, the node type of the node at <code>/A/B</code> may prevent the addition of a property called <code>C</code>.</p>
</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.AccessControlException</code> - If permission is denied.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="getImportContentHandler_java_lang_String_int_" id="getImportContentHandler_java_lang_String_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getImportContentHandler</h4>
<pre><a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a> getImportContentHandler(java.lang.String parentAbsPath,
                                       int uuidBehavior)
                                throws <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                                       <a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
                                       <a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
                                       <a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
                                       <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns an <code>org.xml.sax.ContentHandler</code> which can be used to push SAX events into the repository. If the incoming XML stream (in the form of SAX events) does not appear to be a JCR <i>system view</i> XML document then it is interpreted as a JCR <i>document view</i> XML document.
<p>The incoming XML is deserialized into a subtree of items immediately below the node at <code>parentAbsPath</code>.</p>
<p>This method simply returns the <code>ContentHandler</code> without altering the state of the session; the actual deserialization to the session transient space is done through the methods of the <code>ContentHandler</code>. Invalid XML data will cause the <code>ContentHandler</code> to throw a <code>SAXException</code>.</p>
<p>As SAX events are fed into the <code>ContentHandler</code>, the tree of new items is built in the transient storage of the session. In order to persist the new content, <code>save</code> must be called. The advantage of this through-the-session method is that (depending on which constraint checks the implementation leaves until <code>save</code>) structures that violate node type constraints can be imported, fixed and then saved. The disadvantage is that a large import will result in a large cache of pending nodes in the session. See <a href="Workspace.html#getImportContentHandler_java_lang_String_int_"><code>Workspace.getImportContentHandler(java.lang.String, int)</code></a> for a version of this method that does not go through the session.</p>
<p>The flag <code>uuidBehavior</code> governs how the UUIDs of incoming (deserialized) nodes are handled. There are four options:</p>
<ul>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_CREATE_NEW"><code>ImportUUIDBehavior.IMPORT_UUID_CREATE_NEW</code></a>: Incoming referenceable nodes are added in the same way that new node is added with <code>Node.addNode</code>. That is, they are either assigned newly created UUIDs upon addition or upon <code>save</code> (depending on the implementation). In either case, UUID collisions will not occur.</li>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REMOVE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then the already existing node (and its subtree) is removed from wherever it may be in the workspace before the incoming node is added. Note that this can result in nodes "disappearing" from locations in the workspace that are remote from the location to which the incoming subtree is being written. Both the removal and the new addition will be persisted on <code>save</code>.</li>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REPLACE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REPLACE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace, then the already-existing node is replaced by the incoming node in the same position as the existing node. Note that this may result in the incoming subtree being disaggregated and "spread around" to different locations in the workspace. In the most extreme case this behavior may result in no node at all being added as child of <code>parentAbsPath</code>. This will occur if the topmost element of the incoming XML has the same UUID as an existing node elsewhere in the workspace. The change will be persisted on <code>save</code>.</li>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_THROW"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then a <code>SAXException</code> is thrown by the <code>ContentHandler</code> during deserialization.</li>
</ul>
Unlike <code>Workspace.getImportContentHandler</code>, this method does not necessarily enforce all node type constraints during deserialization. Those that would be immediately enforced in a normal write method (<code>Node.addNode</code>, <code>Node.setProperty</code> etc.) of this implementation cause the returned <code>ContentHandler</code> to throw an immediate <code>SAXException</code> during deserialization. All other constraints are checked on save, just as they are in normal write operations. However, which node type constraints are enforced depends upon whether node type information in the imported data is respected, and this is an implementation-specific issue.
<p>A <code>SAXException</code> will also be thrown by the returned <code>ContentHandler</code> during deserialization if <code>uuidBehavior</code> is set to <code>IMPORT_UUID_COLLISION_REMOVE_EXISTING</code> and an incoming node has the same UUID as the node at <code>parentAbsPath</code> or one of its ancestors.</p>
<p>A <code>PathNotFoundException</code> is thrown either immediately or on <code>save</code> if no node exists at <code>parentAbsPath</code>. Implementations may differ on when this validation is performed</p>
<p>A <code>ConstraintViolationException</code> is thrown either immediately or on <code>save</code> if the new subtree cannot be added to the node at parentAbsPath due to node-type or other implementation-specific constraints, and this can be determined before the first SAX event is sent. Implementations may differ on when this validation is performed.</p>
<p>A <code>VersionException</code> is thrown either immediately or on <code>save</code> if the node at <code>parentAbsPath</code> is versionable and checked-in, or is non-versionable but its nearest versionable ancestor is checked-in. Implementations may differ on when this validation is performed.</p>
<p>A <code>LockException</code> is thrown either immediately or on <code>save</code> if a lock prevents the addition of the subtree. Implementations may differ on when this validation is performed.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parentAbsPath</code> - the absolute path of a node under which (as child) the imported subtree will be built.</dd>
<dd><code>uuidBehavior</code> - a four-value flag that governs how incoming UUIDs are handled.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an org.xml.sax.ContentHandler whose methods may be called to feed SAX events into the deserializer.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>parentAbsPath</code> and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if the new subtree cannot be added to the node at <code>parentAbsPath</code> due to node-type or other implementation-specific constraints, and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the node at <code>parentAbsPath</code> is versionable and checked-in, or is non-versionable but its nearest versionable ancestor is checked-in and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if a lock prevents the addition of the subtree and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="importXML_java_lang_String_java_io_InputStream_int_" id="importXML_java_lang_String_java_io_InputStream_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>importXML</h4>
<pre>void importXML(java.lang.String parentAbsPath,
               java.io.InputStream in,
               int uuidBehavior)
        throws java.io.IOException,
               <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
               <a href="ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a>,
               <a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
               <a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
               <a href="InvalidSerializedDataException.html" title="class in javax.jcr">InvalidSerializedDataException</a>,
               <a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
               <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Deserializes an XML document and adds the resulting item subtree as a child of the node at parentAbsPath.
<p>If the incoming XML stream does not appear to be a JCR <i>system view</i> XML document then it is interpreted as a <i>document view</i> XML document.</p>
<p>The tree of new items is built in the transient storage of the Session. In order to persist the new content, <code>save</code> must be called. The advantage of this through-the-session method is that (depending on what constraint checks the implementation leaves until <code>save</code>) structures that violate node type constraints can be imported, fixed and then saved. The disadvantage is that a large import will result in a large cache of pending nodes in the session. See <a href="Workspace.html#importXML_java_lang_String_java_io_InputStream_int_"><code>Workspace.importXML(java.lang.String, java.io.InputStream, int)</code></a> for a version of this method that does not go through the <code>Session</code>.</p>
<p>The flag <code>uuidBehavior</code> governs how the UUIDs of incoming (deserialized) nodes are handled. There are four options:</p>
<ul>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_CREATE_NEW"><code>ImportUUIDBehavior.IMPORT_UUID_CREATE_NEW</code></a>: Incoming referenceable nodes are added in the same way that new node is added with <code>Node.addNode</code>. That is, they are either assigned newly created UUIDs upon addition or upon <code>save</code> (depending on the implementation). In either case, UUID collisions will not occur.</li>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REMOVE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then the already existing node (and its subtree) is removed from wherever it may be in the workspace before the incoming node is added. Note that this can result in nodes "disappearing" from locations in the workspace that are remote from the location to which the incoming subtree is being written. Both the removal and the new addition will be persisted on <code>save</code>.</li>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REPLACE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REPLACE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace, then the already-existing node is replaced by the incoming node in the same position as the existing node. Note that this may result in the incoming subtree being disaggregated and "spread around" to different locations in the workspace. In the most extreme case this behavior may result in no node at all being added as child of <code>parentAbsPath</code>. This will occur if the topmost element of the incoming XML has the same UUID as an existing node elsewhere in the workspace. The change will only be persisted on <code>save</code>.</li>
<li><a href="ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_THROW"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then an <code>ItemExistsException</code> is thrown.</li>
</ul>
Unlike <a href="Workspace.html#importXML_java_lang_String_java_io_InputStream_int_"><code>Workspace.importXML(java.lang.String, java.io.InputStream, int)</code></a>, this method does not necessarily enforce all node type constraints during deserialization. Those that would be immediately enforced in a normal write method (<code>Node.addNode</code>, <code>Node.setProperty</code> etc.) of this implementation cause an immediate <code>ConstraintViolationException</code> during deserialization. All other constraints are checked on <code>save</code>, just as they are in normal write operations. However, which node type constraints are enforced depends upon whether node type information in the imported data is respected, and this is an implementation-specific issue.
<p>A <code>ConstraintViolationException</code> will also be thrown immediately if <code>uuidBehavior</code> is set to <code>IMPORT_UUID_COLLISION_REMOVE_EXISTING</code> and an incoming node has the same UUID as the node at <code>parentAbsPath</code> or one of its ancestors.</p>
<p>A <code>PathNotFoundException</code> is thrown either immediately or on <code>save</code> if no node exists at <code>parentAbsPath</code>. Implementations may differ on when this validation is performed</p>
<p>A <code>ConstraintViolationException</code> is thrown either immediately or on <code>save</code> if the new subtree cannot be added to the node at parentAbsPath due to node-type or other implementation-specific constraints, and this can be determined before the first SAX event is sent. Implementations may differ on when this validation is performed.</p>
<p>A <code>VersionException</code> is thrown either immediately or on <code>save</code> if the node at <code>parentAbsPath</code> is versionable and checked-in, or is non-versionable but its nearest versionable ancestor is checked-in. Implementations may differ on when this validation is performed.</p>
<p>A <code>LockException</code> is thrown either immediately or on <code>save</code> if a lock prevents the addition of the subtree. Implementations may differ on when this validation is performed.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parentAbsPath</code> - the absolute path of the node below which the deserialized subtree is added.</dd>
<dd><code>in</code> - The <code>Inputstream</code> from which the XML to be deserilaized is read.</dd>
<dd><code>uuidBehavior</code> - a four-value flag that governs how incoming UUIDs are handled.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an error during an I/O operation occurs.</dd>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>parentAbsPath</code> and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a></code> - if deserialization would overwrite an existing item and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if a node type or other implementation-specific constraint is violated that would be checked on a normal write method or if <code>uuidBehavior</code> is set to <code>IMPORT_UUID_COLLISION_REMOVE_EXISTING</code> and an incoming node has the same UUID as the node at <code>parentAbsPath</code> or one of its ancestors.</dd>
<dd><code><a href="version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the node at <code>parentAbsPath</code> is versionable and checked-in, or its nearest versionable ancestor is checked-in and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="InvalidSerializedDataException.html" title="class in javax.jcr">InvalidSerializedDataException</a></code> - if incoming stream is not a valid XML document.</dd>
<dd><code><a href="lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if a lock prevents the addition of the subtree and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - is another error occurs.</dd>
</dl>
</li>
</ul>
<a name="exportSystemView_java_lang_String_org_xml_sax_ContentHandler_boolean_boolean_" id="exportSystemView_java_lang_String_org_xml_sax_ContentHandler_boolean_boolean_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>exportSystemView</h4>
<pre>void exportSystemView(java.lang.String absPath,
                      <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a> contentHandler,
                      boolean skipBinary,
                      boolean noRecurse)
               throws <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                      <a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a>,
                      <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>. The resulting XML is in the system view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the <code>&lt;sv:value&gt;</code> element will have no content). Note that in the case of multi-value <code>BINARY</code> properties, the number of values in the property will be reflected in the serialized output, though they will all be empty. If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user's point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>contentHandler</code> - The <code>org.xml.sax.ContentHandler</code> to which the SAX events representing the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code><a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a></code> - if an error occurs while feeding events to the <code>org.xml.sax.ContentHandler</code>.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="exportSystemView_java_lang_String_java_io_OutputStream_boolean_boolean_" id="exportSystemView_java_lang_String_java_io_OutputStream_boolean_boolean_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>exportSystemView</h4>
<pre>void exportSystemView(java.lang.String absPath,
                      java.io.OutputStream out,
                      boolean skipBinary,
                      boolean noRecurse)
               throws java.io.IOException,
                      <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                      <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>. The resulting XML is in the system view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the <code>&lt;sv:value&gt;</code> element will have no content). Note that in the case of multi-value <code>BINARY</code> properties, the number of values in the property will be reflected in the serialized output, though they will all be empty. If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user's point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>out</code> - The <code>OutputStream</code> to which the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code>java.io.IOException</code> - if an error during an I/O operation occurs.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="exportDocumentView_java_lang_String_org_xml_sax_ContentHandler_boolean_boolean_" id="exportDocumentView_java_lang_String_org_xml_sax_ContentHandler_boolean_boolean_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>exportDocumentView</h4>
<pre>void exportDocumentView(java.lang.String absPath,
                        <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a> contentHandler,
                        boolean skipBinary,
                        boolean noRecurse)
                 throws <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                        <a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a>,
                        <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>. The resulting XML is in the document view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the value of the attribute will be empty). If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user's point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>contentHandler</code> - The <code>org.xml.sax.ContentHandler</code> to which the SAX events representing the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code><a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a></code> - if an error occurs while feeding events to the <code>org.xml.sax.ContentHandler</code>.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="exportDocumentView_java_lang_String_java_io_OutputStream_boolean_boolean_" id="exportDocumentView_java_lang_String_java_io_OutputStream_boolean_boolean_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>exportDocumentView</h4>
<pre>void exportDocumentView(java.lang.String absPath,
                        java.io.OutputStream out,
                        boolean skipBinary,
                        boolean noRecurse)
                 throws java.io.IOException,
                        <a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                        <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>. The resulting XML is in the document view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the value of the attribute will be empty). If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user's point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>out</code> - The <code>OutputStream</code> to which the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code>java.io.IOException</code> - if an error during an I/O operation occurs.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="setNamespacePrefix_java_lang_String_java_lang_String_" id="setNamespacePrefix_java_lang_String_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>setNamespacePrefix</h4>
<pre>void setNamespacePrefix(java.lang.String prefix,
                        java.lang.String uri)
                 throws <a href="NamespaceException.html" title="class in javax.jcr">NamespaceException</a>,
                        <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Within the scope of this session, rename a persistently registered namespace URI to the new prefix. The renaming only affects operations done through this session. To clear all renamings the client must acquire a new session.
<p>A prefix that is currently already mapped to some URI (either persistently in the repository <code>NamespaceRegistry</code> or transiently within this <code>Session</code>) cannot be remapped to a new URI using this method, since this would make any content stored using the old URI unreadable. An attempt to do this will throw a <code>NamespaceException</code>.</p>
<p>As well, a <code>NamespaceException</code> will be thrown if an attempt is made to remap an existing namespace URI to a prefix beginning with the characters "<code>xml</code>" (in any combination of case).</p>
<p>A <code>NamespaceException</code> will also be thrown if the specified uri is not among those registered in the NamespaceRegistry.</p>
</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prefix</code> - a string</dd>
<dd><code>uri</code> - a string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="NamespaceException.html" title="class in javax.jcr">NamespaceException</a></code> - if the specified uri is not registered or an attempt is made to remap to an illegal prefix.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</li>
</ul>
<a name="getNamespacePrefixes__" id="getNamespacePrefixes__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getNamespacePrefixes</h4>
<pre>java.lang.String[] getNamespacePrefixes()
                                 throws <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns all prefixes currently set for this session. This includes all those registered in the <code>NamespaceRegistry</code> but <i>not over-ridden</i> by a <code>Session.setNamespacePrefix</code>, plus those currently set locally by <code>Session.setNamespacePrefix</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string array</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a name="getNamespaceURI_java_lang_String_" id="getNamespaceURI_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getNamespaceURI</h4>
<pre>java.lang.String getNamespaceURI(java.lang.String prefix)
                          throws <a href="NamespaceException.html" title="class in javax.jcr">NamespaceException</a>,
                                 <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">For a given prefix, returns the URI to which it is mapped as currently set in this <code>Session</code>. If the prefix is unknown, a <code>NamespaceException</code> is thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>prefix</code> - a string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="NamespaceException.html" title="class in javax.jcr">NamespaceException</a></code> - if the prefix is unknown.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs</dd>
</dl>
</li>
</ul>
<a name="getNamespacePrefix_java_lang_String_" id="getNamespacePrefix_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getNamespacePrefix</h4>
<pre>java.lang.String getNamespacePrefix(java.lang.String uri)
                             throws <a href="NamespaceException.html" title="class in javax.jcr">NamespaceException</a>,
                                    <a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></pre>
<div class="block">Returns the prefix to which the given URI is mapped</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>uri</code> - a string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="NamespaceException.html" title="class in javax.jcr">NamespaceException</a></code> - if the URI is unknown.</dd>
<dd><code><a href="RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs</dd>
</dl>
</li>
</ul>
<a name="logout__" id="logout__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>void logout()</pre>
<div class="block">Releases all resources associated with this <code>Session</code>. This method should be called when a <code>Session</code> is no longer needed.</div>
</li>
</ul>
<a name="isLive__" id="isLive__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>isLive</h4>
<pre>boolean isLive()</pre>
<div class="block">Returns <code>true</code> if this <code>Session</code> object is usable by the client. Otherwise, returns <code>false</code>. A usable <code>Session</code> is one that is neither logged-out, timed-out nor in any other way disconnected from the repository.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this <code>Session</code> is usable, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="addLockToken_java_lang_String_" id="addLockToken_java_lang_String_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>addLockToken</h4>
<pre>void addLockToken(java.lang.String lt)</pre>
<div class="block">Adds the specified lock token to this session. Holding a lock token allows the <code>Session</code> object of the lock owner to alter nodes that are locked by the lock specified by that particular lock token.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lt</code> - a lock token (a string)</dd>
</dl>
</li>
</ul>
<a name="getLockTokens__" id="getLockTokens__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getLockTokens</h4>
<pre>java.lang.String[] getLockTokens()</pre>
<div class="block">Returns an array containing all lock tokens currently held by this session.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of lock tokens (strings)</dd>
</dl>
</li>
</ul>
<a name="removeLockToken_java_lang_String_" id="removeLockToken_java_lang_String_"><!--   --></a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeLockToken</h4>
<pre>void removeLockToken(java.lang.String lt)</pre>
<div class="block">Removes the specified lock token from this session.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lt</code> - a lock token (a string)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom" id="navbar_bottom"><!--   --></a>
<div class="skipNav"><a href="#skip_navbar_bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_bottom_firstrow" id="navbar_bottom_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle® Database XML Java API Reference<br>
Release 19<em>c</em><br>
E96475-02<br></b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><b><a href="RepositoryException.html" title="class in javax.jcr"><span class="typeNameLink">Prev&nbsp;Class</span></a></b></li>
<li><b><a href="SimpleCredentials.html" title="class in javax.jcr"><span class="typeNameLink">Next&nbsp;Class</span></a></b></li>
</ul>
<ul class="navList">
<li><b><a href="../../index.html" target="_top">Frames</a></b></li>
<li><b><a href="Session.html" target="_top">No&nbsp;Frames</a></b></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><b><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></b></li>
</ul>
<div><b>
<script type="text/javascript">


<!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></b></div>
<div>
<ul class="subNavList">
<li><b>Summary:&nbsp;</b></li>
<li><b>Nested&nbsp;|&nbsp;</b></li>
<li><b>Field&nbsp;|&nbsp;</b></li>
<li><b>Constr&nbsp;|&nbsp;</b></li>
<li><b><a href="#method_summary">Method</a></b></li>
</ul>
<ul class="subNavList">
<li><b>Detail:&nbsp;</b></li>
<li><b>Field&nbsp;|&nbsp;</b></li>
<li><b>Constr&nbsp;|&nbsp;</b></li>
<li><b><a href="#method_detail">Method</a></b></li>
</ul>
</div>
<b><a name="skip_navbar_bottom" id="skip_navbar_bottom"><!--   --></a></b></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"></p>
<center><b><small>Copyright © 2004-2005 Day Software Management AG. All Rights Reserved.</small></b></center>
</body>
</html>
