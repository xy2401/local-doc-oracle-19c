<!-- NewPage -->
<!DOCTYPE html>
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Mon Jan 07 09:53:14 PST 2019 -->
<title>XStreamIn (Oracle Database XStream Java API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2019-01-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<meta name="generator" content="Oracle ST-Doc Jadey 2.5">

    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2019-02-19T09:04:03+00:00">
    <meta name="dcterms.title" content="Oracle® Database XStream Java API Reference">
    <meta name="dcterms.category" content="database">
    <meta name="dcterms.isVersionOf" content="STXJV">
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
    <meta name="dcterms.identifier" content="E96285-02">
    <meta name="dcterms.release" content="Release 19">
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>
<body>
<script type="text/javascript">
<!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XStreamIn (Oracle Database XStream Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script> <noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="topNav"><a name="navbar_top" id="navbar_top"><!--   --></a>
<div class="skipNav"><a href="#skip_navbar_top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_top_firstrow" id="navbar_top_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle® Database XStream Java API Reference<br>
19c</b><br>
E96285-02</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="StreamsException.html" title="class in oracle.streams"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="XStreamLCRCallbackHandler.html" title="interface in oracle.streams"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html" target="_top">Frames</a></li>
<li><a href="XStreamIn.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript">
<!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip_navbar_top" id="skip_navbar_top"><!--   --></a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">oracle.streams</div>
<h2 title="Class XStreamIn" class="title">Class XStreamIn</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>oracle.streams.XStreamIn</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">XStreamIn</span>
extends java.lang.Object</pre>
<div class="block">The XStreamIn class provides APIs for using Oracle XStream In. This is the main Java API for Oracle XStream Inbound. It has the following main API methods as shown in the list.<br>
<ul>
<li>Attach(): Attach to an XStream inbound server.</li>
<li>Detach(): Detach from an XStream inbound server.</li>
<li>SendLCRCallback(): Send a stream of logical change records (LCRs) to the XStream inbound server in callback mode. Specify an XStreamLCRCallbackHandler that constructs the LCRs that are sent to the XStream inbound server.</li>
<li>SendLCR(): Send one LCR to the XStream inbound server in non-callback mode.</li>
<li>SendChunk(): Send chunk data for LCRs that contain LOB, LONG, or XMLTYPE columns. Invoke this API only after invoking the sendLCR() API if the LCR contains chunk data.</li>
</ul>
Here is an example of using the callback API:
<pre>
   Connection conn;
   XStreamIn xsIn;
   ...

   // assume myLCRHandler implements XStreamLCRCallbackHandler 
   XStreamLCRCallbackHandler hdlr = new MyLCRHandler(); 

   try
   {
     DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
     conn = DriverManager.getConnection("jdbc:oracle:oci:@hostname:port:sid",
                      "strmadm", "strmadm");
     xsIn = XStreamIn.attach(conn, new String("APPLY1"), new String("CAP1"),
                             XStreamIn.DEFAULT_MODE);
     while(true) 
     {
       xsIn.sendLCRCallback(hdlr, XStreamIn.DEFAULT_MODE);
       // maintain processed low watermark
       maintainWatermark();
       ... 
       if (user_terminate_condition)
       {
         break;
       }
     }
     xsIn.detach(XStreamIn.DEFAULT_MODE);  
   }
   catch(StreamsException e)
   {
      System.out.println("Streams exception: " + e.getMessage()); 
   }
   catch(Exception e)
   {
   }
 </pre>
Please see createLCR() and createChunk() in XStreamLCRCallbackHandler for examples of implementing the callback methods.<br>
<p>Here is an example of using the non-callback API:</p>
<pre>
   Connection conn;
   XStreamIn xsIn;
   ...

   try
   {
     DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
     conn = DriverManager.getConnection("jdbc:oracle:oci:@hostname:port:sid",
                      "strmadm", "strmadm");
     xsIn = XStreamIn.attach(conn, new String("APPLY1"), new String("CAP1"),
                             XStreamIn.DEFAULT_MODE);
     lwm = xsIn.getProcessedLowWatermark(XStreamIn.DEFAULT_MODE);
     while(true) 
     {
       RowLCR rowlcr = new DefaultRowLCR(...);

       if (rowlcr has chunk data)
         rowlcr.setChunkDataFlag(true);

       int status = xsIn.sendLCR(rowlcr, XStreamIn.DEFAULT_MODE);

       if (status == EXECUTING)
       {
         for (each chunk in each lob/long/xmltype column)
         {
           ChunkColumnValue chunk = new DefaultChunkColumnValue(...);
           if (chunk is the last one in the column)
             chunk.setLastChunk(true);
           if (chunk is the last one for entire row)
             chunk.setEndOfRow(true);            
           xsIn.sendChunk(chunk, XStreamIn.DEFAULT_MODE);
         }
       }
       else // status == FINISHED
       {
         // maintain watermark
         lwm =  xsIn.getProcessedLowWatermark(XStreamIn.DEFAULT_MODE);
         maintainWatermark();
       }

       if (user_terminate_condition)
       {
         break;
       }
     }
     xsIn.detach(XStreamIn.DEFAULT_MODE);  
   }
   catch(StreamsException e)
   {
      System.out.println("Streams exception: " + e.getMessage()); 
   }
   catch(Exception e)
   {
   }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList"><!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary" id="field_summary"><!--   --></a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#DEFAULT_BATCH_INTERVAL">DEFAULT_BATCH_INTERVAL</a></span></code>
<div class="block">XStreamIn default batch interval value for batch processing</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#DEFAULT_MODE">DEFAULT_MODE</a></span></code>
<div class="block">XStreamIn default mode</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#EXECUTING">EXECUTING</a></span></code>
<div class="block">XStreamIn batch processing status EXECUTING, which indicates the the batch is in progress</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#FINISHED">FINISHED</a></span></code>
<div class="block">XStreamIn batch processing status FINISHED, which is the default status</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary" id="method_summary"><!--   --></a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="XStreamIn.html" title="class in oracle.streams">XStreamIn</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#attach_oracle_jdbc_OracleConnection_java_lang_String_java_lang_String_int_">attach</a></span>(oracle.jdbc.OracleConnection&nbsp;oconn, java.lang.String&nbsp;serverName, java.lang.String&nbsp;sourceName, int&nbsp;mode)</code>
<div class="block">Attaches to an inbound server.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="XStreamIn.html" title="class in oracle.streams">XStreamIn</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#attach_oracle_jdbc_OracleConnection_java_lang_String_java_lang_String_int_int_">attach</a></span>(oracle.jdbc.OracleConnection&nbsp;oconn, java.lang.String&nbsp;serverName, java.lang.String&nbsp;sourceName, int&nbsp;batchInterval, int&nbsp;mode)</code>
<div class="block">Attaches to an inbound server.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#detach_int_">detach</a></span>(int&nbsp;mode)</code>
<div class="block">Detaches from an inbound server.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#flush_int_">flush</a></span>(int&nbsp;mode)</code>
<div class="block">Flushes the network.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#getLastPosition__">getLastPosition</a></span>()</code>
<div class="block">Gets last position.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#getOldestPosition__">getOldestPosition</a></span>()</code>
<div class="block">Gets the oldest position.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#getProcessedLowWatermark__">getProcessedLowWatermark</a></span>()</code>
<div class="block">Gets the processed low watermark.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#sendChunk_oracle_streams_ChunkColumnValue_int_">sendChunk</a></span>(<a href="ChunkColumnValue.html" title="interface in oracle.streams">ChunkColumnValue</a>&nbsp;chunk, int&nbsp;mode)</code>
<div class="block">Sends chunk data in non-callback mode.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#sendLCR_oracle_streams_LCR_int_">sendLCR</a></span>(<a href="LCR.html" title="interface in oracle.streams">LCR</a>&nbsp;lcr, int&nbsp;mode)</code>
<div class="block">Sends one LCR in non-callback mode.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XStreamIn.html#sendLCRCallback_oracle_streams_XStreamLCRCallbackHandler_int_">sendLCRCallback</a></span>(<a href="XStreamLCRCallbackHandler.html" title="interface in oracle.streams">XStreamLCRCallbackHandler</a>&nbsp;handler, int&nbsp;mode)</code>
<div class="block">Sends a stream of LCRs in callback mode.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java_lang_Object" id="methods_inherited_from_class_java_lang_Object"><!--   --></a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList"><!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail" id="field_detail"><!--   --></a>
<h3>Field Detail</h3>
<a name="DEFAULT_MODE" id="DEFAULT_MODE"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MODE</h4>
<pre>public static final int DEFAULT_MODE</pre>
<div class="block">XStreamIn default mode</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_DEFAULT_MODE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_BATCH_INTERVAL" id="DEFAULT_BATCH_INTERVAL"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BATCH_INTERVAL</h4>
<pre>public static final int DEFAULT_BATCH_INTERVAL</pre>
<div class="block">XStreamIn default batch interval value for batch processing</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_DEFAULT_BATCH_INTERVAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FINISHED" id="FINISHED"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>FINISHED</h4>
<pre>public static final int FINISHED</pre>
<div class="block">XStreamIn batch processing status FINISHED, which is the default status</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_FINISHED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="EXECUTING" id="EXECUTING"><!--   --></a>
<ul class="blockListLast">
<li class="blockList">
<h4>EXECUTING</h4>
<pre>public static final int EXECUTING</pre>
<div class="block">XStreamIn batch processing status EXECUTING, which indicates the the batch is in progress</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_EXECUTING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail" id="method_detail"><!--   --></a>
<h3>Method Detail</h3>
<a name="attach_oracle_jdbc_OracleConnection_java_lang_String_java_lang_String_int_" id="attach_oracle_jdbc_OracleConnection_java_lang_String_java_lang_String_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>attach</h4>
<pre>public static <a href="XStreamIn.html" title="class in oracle.streams">XStreamIn</a> attach(oracle.jdbc.OracleConnection oconn,
                               java.lang.String serverName,
                               java.lang.String sourceName,
                               int mode)
                        throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Attaches to an inbound server.<br>
This API attaches the client to the specified XStream inbound server. This is also the factory method that returns an XStreamIn instance once it is attached to a valid XStream inbound server.<br>
After successfully attached to an XStream inbound server, call getLastPosition() to decide where to start sending LCRs in the LCR stream.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oconn</code> - Oracle database connection.<br>
Note that the connection must be made using Oracle OCI (thick) driver.<br></dd>
<dd><code>serverName</code> - Name of the XStream inbound server.<br></dd>
<dd><code>sourceName</code> - Name of the data source.<br></dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an XStreamIn instance object<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during attach.</dd>
</dl>
</li>
</ul>
<a name="attach_oracle_jdbc_OracleConnection_java_lang_String_java_lang_String_int_int_" id="attach_oracle_jdbc_OracleConnection_java_lang_String_java_lang_String_int_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>attach</h4>
<pre>public static <a href="XStreamIn.html" title="class in oracle.streams">XStreamIn</a> attach(oracle.jdbc.OracleConnection oconn,
                               java.lang.String serverName,
                               java.lang.String sourceName,
                               int batchInterval,
                               int mode)
                        throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Attaches to an inbound server.<br>
This API is the same as the other attach API except that it includes the batchInterval parameter.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oconn</code> - Oracle database connection.<br>
Note that the connection must be made using Oracle OCI (thick) driver.<br></dd>
<dd><code>serverName</code> - Name of the XStream inbound server.<br></dd>
<dd><code>sourceName</code> - Name of the data source<br></dd>
<dd><code>batchInterval</code> - XStreamIn batch processing interval.<br></dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an XStreamIn instance object<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during attach.</dd>
</dl>
</li>
</ul>
<a name="detach_int_" id="detach_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>detach</h4>
<pre>public byte[] detach(int mode)
              throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Detaches from an inbound server.<br>
This API detaches the client from the XStream inbound server.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the inbound server's processed low watermark.<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during detach.</dd>
</dl>
</li>
</ul>
<a name="sendLCRCallback_oracle_streams_XStreamLCRCallbackHandler_int_" id="sendLCRCallback_oracle_streams_XStreamLCRCallbackHandler_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>sendLCRCallback</h4>
<pre>public void sendLCRCallback(<a href="XStreamLCRCallbackHandler.html" title="interface in oracle.streams">XStreamLCRCallbackHandler</a> handler,
                            int mode)
                     throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Sends a stream of LCRs in callback mode.<br>
This API starts sending an LCR stream to the specified XStream inbound server using callback mode. You must supply an LCR callback handler that uses the createLCR() and createChunk() callback methods. See XStreamLCRCallbackHandler for details about the LCR callback handler.<br>
To reduce network roundtrip overhead, this method also starts a batch process that sends LCRs to the inbound server. The batch process is stopped after 30 seconds or when a NULL LCR is returned in the createLCR() callback method.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handler</code> - The XStreamLCRCallbackHandler for constructing LCRs.<br></dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during the batch.</dd>
</dl>
</li>
</ul>
<a name="sendLCR_oracle_streams_LCR_int_" id="sendLCR_oracle_streams_LCR_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>sendLCR</h4>
<pre>public int sendLCR(<a href="LCR.html" title="interface in oracle.streams">LCR</a> lcr,
                   int mode)
            throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Sends one LCR in non-callback mode.<br>
This method sends one LCR to the connected inbound server. To avoid a network round trip for each SendLCR call, XStreamIn starts a batch process internally to fill the network buffer with LCRs. This batch process is stopped after 30 seconds has elapsed.<br>
This method returns a batch status value of either EXECUTING or FINISHED. Note that when a RowLCR has chunkDataFlag set, the return status is always EXECUTING.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lcr</code> - A constructed LCR.</dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The XStreamIn batch processing status.<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if the LCR is NULL or invalid, or error occurs while sending the LCR.</dd>
</dl>
</li>
</ul>
<a name="sendChunk_oracle_streams_ChunkColumnValue_int_" id="sendChunk_oracle_streams_ChunkColumnValue_int_"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>sendChunk</h4>
<pre>public void sendChunk(<a href="ChunkColumnValue.html" title="interface in oracle.streams">ChunkColumnValue</a> chunk,
                      int mode)
               throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Sends chunk data in non-callback mode.<br>
This API sends streaming LOB, LONG, and XMLTYPE chunk data.<br>
Call this API after calling sendLCR() to send chunk data for an LCR. Ensure that all of the chunks for one LOB column are sent before sending the chunks for another LOB column. The LOB columns can be sent in any order.<br>
Use setLastChunk() in chunkColumnValue to indicate whether the current chunk is the last chunk for a column. Use setEndOfRow() in chunkColumnValue to indicate whether the current chunk is the last chunk for an entire row change.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>chunk</code> - A ChunkColumnValue object that contains the chunk data for the LOB, LONG, or XMLTYPE column in a RowLCR</dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs while sending chunk data.</dd>
</dl>
</li>
</ul>
<a name="getProcessedLowWatermark__" id="getProcessedLowWatermark__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getProcessedLowWatermark</h4>
<pre>public byte[] getProcessedLowWatermark()</pre>
<div class="block">Gets the processed low watermark.<br>
Use this method to get the inbound server's processed low watermark. After attaching to an XStream inbound server, the client caches a local copy of the inbound server's processed low watermark. Each of the following calls refreshes the local copy with the inbound server's processed low watermark and returns the FINISHED batch status from sendLCR:
<pre>
    attach 
    sendLCR
    sendLCRCallback
    flush
 </pre>
This method can be called while the client is attached to an XStream inbound server.<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The inbound server's processed low watermark.<br></dd>
</dl>
</li>
</ul>
<a name="getOldestPosition__" id="getOldestPosition__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getOldestPosition</h4>
<pre>public byte[] getOldestPosition()</pre>
<div class="block">Gets the oldest position.<br>
Use this method to get the inbound server's oldest position. After attaching to an XStream inbound server, the client caches a local copy of the inbound server's oldest position. Each of the following calls refreshes the local copy with the inbound server's oldest position and returns the FINISHED batch status from sendLCR:
<pre>
    attach 
    sendLCR
    flush
 </pre>
This method can be called while the client is attached to an XStream inbound server.<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The inbound server's processed low watermark.<br></dd>
</dl>
</li>
</ul>
<a name="getLastPosition__" id="getLastPosition__"><!--   --></a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPosition</h4>
<pre>public byte[] getLastPosition()</pre>
<div class="block">Gets last position.<br>
This method gets the inbound server's last position after an attach call. After attaching to an XStream inbound server, this method retrieves the inbound server's last position and sends it to the client. The client can use this last position to decide where to stream LCRs. Ensure that this method is called after successfully attaching to an XStream inbound server.<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The inbound server's processed low watermark.<br></dd>
</dl>
</li>
</ul>
<a name="flush_int_" id="flush_int_"><!--   --></a>
<ul class="blockListLast">
<li class="blockList">
<h4>flush</h4>
<pre>public void flush(int mode)
           throws <a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></pre>
<div class="block">Flushes the network.<br>
This method flushes the network while attaching to an XStream inbound server. Ensure that this method is called only when there are no LCRs to send to the inbound server and the client needs to determine the progress of the inbound server.<br>
It terminates any in-progress batch processing and should not called in callback mode.<br>
This method contacts the inbound server to get the inbound server's processed low watermark. The getProcessedLowWatermark() method can retrieve the processed low watermark.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs while flushing network.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom" id="navbar_bottom"><!--   --></a>
<div class="skipNav"><a href="#skip_navbar_bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar_bottom_firstrow" id="navbar_bottom_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Oracle® Database XStream Java API Reference<br>
19c</b><br>
E96285-02</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="StreamsException.html" title="class in oracle.streams"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="XStreamLCRCallbackHandler.html" title="interface in oracle.streams"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html" target="_top">Frames</a></li>
<li><a href="XStreamIn.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript">
<!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip_navbar_bottom" id="skip_navbar_bottom"><!--   --></a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"></p>
<center><small>Copyright © 2001, 2019, Oracle and/or its affiliates. All Rights Reserved.</small></center>
</body>
</html>
